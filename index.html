<!DOCTYPE html>
<html lang="ru" data-theme="$COLOR_SCHEME$">
 <head>
 <meta charset="utf-8">
 <meta name="viewport" content="width=device-width">
 <title>PyScript</title>
 <link href="style.css" rel="stylesheet" type="text/css" />
 <link rel="preconnect" href="https://fonts.googleapis.com">
 <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
 <link href="https://fonts.googleapis.com/css2?family=Ubuntu+Sans:ital,wght@0,100..800;1,100..800&display=swap" rel="stylesheet">
 <link rel="stylesheet" href="https://pyscript.net/alpha/pyscript.css" />
 <script defer src="https://pyscript.net/alpha/pyscript.js"></script>
 </head> 
 <body style="margin-left:40px">
 <b><p>Today is <u><label id='today'></label></u></p></b>
 <a href="https://smnlb.github.io/tokipona/">tokipona</a>
 <py-script>
 import datetime as dt
 pyscript.write('today', dt.date.today().strftime('%A %B %d, %Y'))
 </py-script>
 <script>
 alert('Hello');
 </script> 
 <br>
 <p>
 This is a simple program to divide textbooks equally between 2 people.
 </p>
 <form>
 <p>
 <label for="num">Выберите количество учебников из диапазона: </label> 
 1<input autofocus class="inp" type="range" step="1" min="1" max="20" value="10" id="num" name="num" autocomplete="off"/>20
 </p>
 <p>
 <button type="button" id="button" pys-onclick="submit_inp" onclick="fnum1()">test</button>
 <button type="submit" id="submit" onclick="fnum1()">submit</button>
 <button type="button" id="function" onclick="fnum2()">function</button>
 </p>
 </form>
 <script type="text/javascript">
  var d = document;
  var last_id = 0;
  function add_value_f() {    
    // находим нужную таблицу
    var tbody = d.getElementById('v_table').getElementsByTagName('tbody')[0];    
    // создаем строку таблицы и добавляем ее
    var row = d.createElement("tr");
    tbody.appendChild(row);  
      // создаем ячейки в вышесозданной строке
    var td1 = d.createElement("td");
    var td2 = d.createElement("td");
    var td3 = d.createElement("td");
    var td4 = d.createElement("td");  
    row.appendChild(td1);
    row.appendChild(td2);
    row.appendChild(td3);
    row.appendChild(td4);    
    last_id = last_id + 1;
  
    // добавляем формы ввода в ячейки
    td1.innerHTML = '<input type="number" name="field['+last_id+']">';
  }
 </script>
  <form method="post">
  <table border="1" id="v_table">
  
  <thead>
  <tr>
    <th>xml_id</th>
    <th>значение</th>
    <th>сорт.</th>
    <th>по умол.<input type="radio" name="default" value="none" checked></th>
  </tr>
  </thead>
  <tbody>
  <tr>
    <td>
      <fieldset>
        <legend>Choose your favorite monster</legend>
    
        <input type="number" id="kraken" name="field" value="K" placeholder="Ввод" />
        <label for="kraken"></label><br />
    
        <input type="radio" id="sasquatch" name="field" value="S" />
        <label for="sasquatch">Sasquatch</label><br />
    
        <input type="radio" id="mothman" name="field" value="M" />
        <label for="mothman">Mothman</label>
      </fieldset>
    </td>
  </tr>
  </tbody>
  </table>  
  <input type="button" onclick="add_value_f()" value="Добавить поле"/>
  <input type="submit" name="send" value="Сохранить">
  </form>
 <form action="#" method="post" target="_blank" id="myForm">
   <h2></h2>
   <fieldset>
     <legend>Введите номера учебников:</legend>
     <ul>
       <li>
         <label for="age">Возраст:</label>
         <input type="number" name="age" placeholder="27" id="age" min="0" max="125">
       </li>
     </ul>
   </fieldset>
   <fieldset>
     <legend>Учёба</legend>
     <ul>
       <li>
         <input type="checkbox" name="books" id="books">
         <label for="books">Читаю книги</label>
       </li>
       <li>
         <input type="checkbox" name="video" id="video">
         <label for="video">Смотрю видео</label>
       </li>
     </ul>
   </fieldset>
   <fieldset>
     <legend>Предпочтения</legend>
     <ul>
       <li>
         <input type="radio" name="preference" id="front" value="frontend" checked>
         <label for="front">Фронтенд-разработка</label>
       </li>
       <li>
         <input type="radio" name="preference" id="back" value="backend">
         <label for="back">Бэкенд-разработка</label>
       </li>
     </ul>
   </fieldset>
   <div>
     <button type="submit">Отправить</button>
     <p>* — Обязательные поля</p>
   </div>
 </form>
 <script> 
  function AddElement(mytype){ 
  var mytype,form=document.getElementById("add"); 
  var newInput = document.createElement("input");  
  newInput.type=mytype;  
  newInput.name="input1"; 
  form.appendChild(newInput); 
  var newline= document.createElement("br"); 
  form.appendChild(newline); 
  } 
 </script> 
   <form action="" method="get" name="frm"> 
   <div id="add"> 
     <input type="text" name="textfield">
   </div> 
   </form> 
     <input name = "" type = "button" value = "Новое числовое поле" onClick = "AddElement ('number')" /> 
     <input name = "" type = "button" value = "Новый переключатель" onClick = "AddElement ('radio')" /> 
     <input name = "" type = "button" value = "Новая кнопка отправки" onClick = "AddElement ('submit')" /> 
     <input name = "" type = "button" value = "Новая кнопка восстановления" onClick = "AddElement ('reset')" />   
 <script>
 for (let i = 0; i < 5; i++) {
  AddElement('number');
  document.getElementById('myForm').appendChild(Object.assign(document.createElement('input'), {
    type: 'text',
    name: `input${i}`,
    placeholder: `Ввод ${i + 1}`
  }));
}
 </script>
 <script>
 "use strict";
 function fnum1() {
 var el1 = document.getElementById("text");
 var el2 = document.getElementById("num").value;
 localStorage.setItem('num', el2);
 var el3 = localStorage.getItem('num');
 el1.innerText = `Записанное значение = ${el3}`;
 }
 function fnum2() {
 var el1 = document.getElementById("text");
 var el3 = localStorage.getItem('num');
 el1.innerText = `Записанное значение = ${el3}`;
 alert(localStorage.getItem('num')) 
 }
 </script> 
 <py-script>
def submit_inp(e):
 num = int(Element("num").value)
 </py-script>
 </body>
</html>
